/*
 * @overview Daum Suggest, v1.1.38
 * Copyright (c) 2010 Front-end Technology Center, Daum Communications.
 * 
 * $Version : 1.1.38 $
 * $Date : 2011-08-04 10:31 $
 * $Revision : 214 $
 * 
 * Project site: http://play.daumcorp.com/pages/viewpage.action?pageId=15013351
 * Licensed under Daum Common License : http://dna.daumcorp.com/forge/docs/daum-license-1.0.txt
 */
(function(){if(window.daum){window.jigu=window.daum}else{if(window.daumSF){window.jigu=window.daumSF;window.daum={}}}daum.suggest={version:"1.1.38",message:{},define:{},model:{},module:{},view:{},template:{},sparrow:{}}})();if(!window.daum){window.daum={}}if(window.$ssf){window._$ssf=window.$ssf}window._development=true;window.$ssf=daum.suggest.sparrow=(function(){var f=[];var d={_loadingfn:"",run:function(m,l,h,o,j){for(var k=0;k<m.length;k++){var n=m[k];this._loadingfn=n.desc;if(n.desc){}n(l,h,o,j)}this._loadingfn=""},install:function(i,h){try{h.desc=i;f.push(h)}catch(j){}},installX:function(i,h){try{}catch(j){}},installModule:function(j,h,k,i){this.run(f,j,h,k,i)
}};d.win=window;d.doc=window.document;d.tmp=d.doc.createElement("div");d.html=d.doc.documentElement;d.services={};var b=[],c=[];var g=d.EventDispatcher=function(){};g.addBeforeCallback=function(h){b.push(h)};g.addAfterCallback=function(h){c.push(h)};d.EventDispatcher.prototype={addListener:function(j){for(var h in j){var i=j[h];this.addAdaptor(h,i)}},addAdaptor:function(h,i){if(!this.listeners){this.listeners={}}i._module=$ssf._loadingfn;if(!this.listeners[h]){this.listeners[h]=[]}this.listeners[h].push(i)},dispatchEvent:function(k,r){if(!this.listeners){return}var n=true;r=r||{target:this};var j=this.listeners[k];if(j){var q=true;for(var o=0,m=b.length;o<m;o++){var q=b[o](k,this,r)}if(!q){return}for(var o=0,m=j.length;o<m;o++){var s=j[o];try{if(s.call(this,r)===false){n=false}}catch(p){var h=["listener_error_",p.fileName,"/",p.lineNumber,"/",jigu.getCookie("D_sid"),"/",p.message.replace(/ /g,"_"),"/",p.stack].join("");if(window._development==true){throw p}}}for(var o=0,m=c.length;o<m;o++){c[o](k,this,r)
}}return n},init:function(){this.dispatchEvent("onPreinitialized",{target:this});if(this.initialize){this.initialize()}this.dispatchEvent("onInitialized",{target:this})}};function e(i,h){if(!h.getContainer){h.getContainer=function(){return h.container||h.el}}if(h.release&&h.getContainer()){jigu.addEvent(h.getContainer(),"mousedown",function(j){i.currentView=h})}}var a=[];d.Runner=function(){this.$super();var o=this;var q=this.models=new _registry({added:function(i){}}),k=this.views=new _registry({added:function(i){}}),h=this.commands=new _registry(),m=this.config=window.daumProperties||{};var p=k.add;k.add=function(l,i){i.getApplicationContext=function(){return o};e(o,i);p.call(k,l,i)};this.getViewStack=function(){return a};if(window._development){d.trimpath()}d.installModule(this,k,q,this.config);for(var n=0,j=k.length;n<j;n++){k.get(k[n]).init()}this.dispatchEvent("onContextLoad",{});jigu.addEvent($ssf.win,"unload",function(){o.dispatchEvent("onContextUnload",{})});d.win.onerror=function(r,l,i){o.dispatchEvent("errorCatched",{message:r,exception:{message:r,fileName:l,lineNumber:i,stack:""}});
return true}};jigu.Function.inherit(d.Runner,g);return d})();(function(b){try{b.doc.execCommand("BackgroundImageCache",false,true)}catch(a){}})(daum.suggest.sparrow);(function(){jigu.extend(daum.suggest.message,{ERROR_NO_PROXY_FRAME:"Proxy Frame \uc774 \uc0dd\uc131\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",ERROR_NO_REQUEST_URL:"Request URL\uc774 \uc120\uc5b8\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",ERROR_NO_INPUTBOX:"\uac80\uc0c9\uc5b4 \uc785\ub825\ub780\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",ERROR_NO_PARENT_CONTAINER:"\uac80\uc0c9\uc5b4 \uc785\ub825\ub780 \uc0c1\uc704 \ucee8\ud14c\uc774\ub108\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."})
})();(function(){jigu.extend(daum.suggest.define,{Keyboard:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPSLOOK:20,NAK:21,ESC:27,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,SELECT:41,V:86,SQUARE:91,BASH:92,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,MAC_COMMAND:224}})})();(function(){jigu.extend(daum.suggest.template,{RequestString:"?q=KEYWORD&mod=json&code=CHARSET",Base:new jigu.Template(["<ul>#{list_high}</ul>",'<div class="line" style="display:#{line}"></div>',"<ul>#{list_low}</ul>"].join("")),Image:new jigu.Template('<img src="#{url}">'),IsNonImage:new jigu.Template('<div class="empty"></div>'),Item:new jigu.Template('<li class="idx_#{idx}"><a class="item bg" href="javascript:;">#{item}</a></li>'),Footer:new jigu.Template(['<div class="fl">#{moreWord}</div>','<div class="fr">','<a href="#" class="isSuggest">\uc11c\uc81c\uc2a4\ud2b8\ub780?</a>','<span class="bar" style="display:#{offUsable}">|</span>','<a href="#" class="offSuggest" style="display:#{offUsable}">\uae30\ub2a5\ub044\uae30</a>','<span class="offGuide">\uae30\ub2a5\uc744 \ub2e4\uc2dc \ucf24 \ub54c\ub294 v \uc744 \ud074\ub9ad\ud558\uc138\uc694</span>',"</div>"].join("")),TailMore:new jigu.Template('<a href="#" class="tailMore">\ub05d\ub2e8\uc5b4 \ub354\ubcf4\uae30</a>'),HeadMore:new jigu.Template('<a href="#" class="headMore">\uc55e\ub2e8\uc5b4 \ub354\ubcf4\uae30</a>'),UsingSuggest:new jigu.Template("\uc11c\uc81c\uc2a4\ud2b8 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),UseSuggest:new jigu.Template("\uc11c\uc81c\uc2a4\ud2b8 \uae30\ub2a5\uc774 \ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),UsingExternalGuide:new jigu.Template('<div class="external_guide"></div>'),IntroduceSuggestURL:"http://blog.daum.net/daumsearch/16151013"})
})();(function(){jigu.extend(daum.suggest.define,{FocusPointType:{LOAD:"load",WRITE:"write",DEFAULT:"user"},KeywordCompareType:{HEAD:"head",TAIL:"tail",FULL:"full"},ListPositionType:{TRANS:"tail",DEFAULT:"head"},ActivationCookieName:"suggest",ActivationType:{ON:"on",OFF:"off"},KeywordMaxLength:20,KeywordMaxByte:40,ListMaxSize:13,EncodeType:{UTF_IN_OUT:"utf_in_out",UTF_IN:"utf_in"},DynamicScript:{SUGGEST:"dynamic_script_suggest"},FrameOrientation:{"90":"wide_frame","-90":"wide_frame","0":"default_frame","180":"default_frame"},Separator:{RAWDATA_ITEM:"|",AREACODE_ITEM:","},YellowClip:{ON:"expand",OFF:"off"}})})();(function(c){var b=c.model.DataModel=function(e){this.suggestDomain=e.suggestDomain;this.requestUrl=e.requestUrl;this.encode=e.encode||"";this.defaultKeyword=e.keyword;if(e.proxyUrl){this.createFrame(e.suggestDomain+e.proxyUrl)}this.callbackName=e.callbackName;this.loadVisible="visible"};jigu.Function.inherit(b,$ssf.EventDispatcher,{setEncode:function(e){this.encode=e},setCallbackName:function(e){this.callbackName=e
},setRequestUrl:function(e){this.requestUrl=e},getRequestFullUrl:function(){return this.suggestDomain+this.requestUrl+c.template.RequestString.replace("CHARSET",this.encode)},get:function(g,j){this.loadVisible=j||"visible";var i=daum.suggest.model.Raw.getByKeyword(g,this.suggestDomain+this.requestUrl)||null;var f=this;if(!!g&&!i){if(jigu.String.byteLength(g)>c.define.KeywordMaxByte){this.dispatchEvent("onOverKeyword");return false}var k=g;if(this.encode==c.define.EncodeType.UTF_IN_OUT||this.encode==c.define.EncodeType.UTF_IN){k=encodeURIComponent(g)}if(this.callbackName){var h=[this.getRequestFullUrl().replace("KEYWORD",k),"&callback=",this.callbackName].join("");c.module.ScriptCall.load(h,c.define.DynamicScript.SUGGEST)}else{var e=this.getProxyData(k,this.getRequestFullUrl(),function(m){var l=a(m);f.forceLoadComplete(l)});if(e){this.dispatchEvent("onSendData",{keyword:g,url:this.getRequestFullUrl()})}}}else{if(!!i){this.dispatchEvent("onReloadCache",{data:i})}else{this.dispatchEvent("onEmptyKeyword")
}}},forceLoadComplete:function(e){this.dispatchEvent("onLoadComplete",{data:e,route:this.suggestDomain+this.requestUrl,visible:this.loadVisible})},getProxyData:function(f,h,i){if(this.proxyFrame){try{this.proxyFrame.contentWindow.getData(f,h,i);return true}catch(g){}}else{return false}},createFrame:function(f){var e=this;daum.suggest.DOMReady(function(){e.proxyFrame=d(f);document.body.appendChild(e.proxyFrame)})}});var a=function(e){return(new Function("","return "+e+";"))()};var d=function(e){var f=document.createElement("iframe");f.name="proxyIframe";f.src=e;f.style.display="none";f.title="Suggest Proxy Frame";return f}})(daum.suggest);(function(a){var b=a.model.ListModel=function(c){this.limit=c.limit;this.data={};this.subwayAreacode=c.subwayAreacode};jigu.Function.inherit(b,$ssf.EventDispatcher,{set:function(c){this.reset();if(!!c){this.data.keyword=c.rq;if(this.subwayAreacode){this.data.keyword=this.data.keyword.replace(this.subwayAreacode,"")}this.setList(c.items,"head");this.setList(c.r_items,"tail");
var d=this.rebuildLimit(this.data.head.length,this.data.tail.length);this.pushAllData("head",d.head);this.pushAllData("tail",d.tail)}},rebuildLimit:function(c,f){var e=Math.min(c,this.limit[0]),d=(this.limit[0]+this.limit[1])-e;return{head:e,tail:d}},get:function(){return this.data},setList:function(k,j){_setData=this.data[j];for(var h=0,d=k.length;h<d;h++){var c=a.define.Separator.RAWDATA_ITEM;var g=k[h].split(c);var e=g[0];if(this.subwayAreacode){e=e.split(a.define.Separator.AREACODE_ITEM)[0]}var f={string:this.stringConvert(e),image:g[1],index:h,item:g};_setData.push(f)}},reset:function(){this.data={keyword:"",head:[],tail:[],all:[]}},getSelectedItem:function(c){if(c==null||c<0||c>=this.data.all.length){return false}return this.data.all[c]},pushAllData:function(g,d){var f=(g=="tail")?this.data.tail:this.data.head;if(f){var c=Math.min(d,f.length);for(var e=0;e<c;e++){this.data.all.push(f[e])}}},getChangeSort:function(c){this.data.all=[];var d;if(!!this.data.head==false&&!!this.data.tail==false){return this.data
}if(c=="tail"){d=this.rebuildLimit(this.data.tail.length,this.data.head.length);this.pushAllData("tail",d.head);this.pushAllData("head",d.tail)}else{d=this.rebuildLimit(this.data.head.length,this.data.tail.length);this.pushAllData("head",d.head);this.pushAllData("tail",d.tail)}return this.data},stringConvert:function(c){return c.replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,"<").replace(/\&quot;/g,'"')}})})(daum.suggest);(function(){daum.suggest.model.Raw=function(){var a={};var b={set:function(d,c){if(jigu.Array.size(a)>100){a={}}a[d.rq]={route:c,rq:d.rq||"",items:d.items||[],r_items:d.r_items||[]};return a[d.rq]},get:function(){return a},getByKeyword:function(d,c){if(!!a[d]==false){return false}if(a[d].route==c){return a[d]}},empty:function(){a={}}};return b}()})();(function(){jigu.extend(daum.suggest.module,{AvailableKeyCode:function(d){var a=daum.suggest.define.Keyboard;var b=[a.CTRL,a.ALT,a.LEFT,a.RIGHT];for(var c=b.length-1;c>=0;--c){if(b[c]==d){return false}}return true
}})})();(function(){jigu.extend(daum.suggest.module,{KeywordHighlight:function(g,f,e){var d;if(e=="head"){d=a(g,f)}else{if(e=="tail"){d=c(g,f)}else{d=b(g,f)}}if(d==""){d=g}return d}});var a=function(d,o){var r="",n=d.replace(/ /g,""),p=o.replace(/ /g,"");var q=n.toLowerCase().indexOf(p.toLowerCase());if(q>-1){for(var m=0,h=0;h<q;m++){var g=d.substring(m,m+1);if(g!=" "){h++}r+=g}r+="<strong>";for(var f=m,e=0;e<p.length;f++){var g=d.substring(f,f+1);if(g!=" "){e++}r+=g}r+="</strong>"+d.substr(f)}return r};var c=function(d,o){var q="",n=d.replace(/ /g,""),p=o.replace(/ /g,"");if(p==n.substring(n.length-p.length)){for(var m=0,h=0;h<n.length-p.length;m++){var g=d.substring(m,m+1);if(g!=" "){h++}q+=g}q+="<strong>";for(var f=m,e=0;e<p.length;f++){var g=d.substring(f,f+1);if(g!=" "){e++}q+=g}q+="</strong>"}return q};var b=function(d,o){var s="",n=d.replace(/ /g,""),p=o.replace(/ /g,"");var r=n.toLowerCase(),q;while((q=r.indexOf(p.toLowerCase()))>-1){for(var m=0,h=0;h<q;m++){var g=d.substring(m,m+1);
if(g!=" "){h++}s+=g}s+="<strong>";for(var f=m,e=0;e<p.length;f++){var g=d.substring(f,f+1);if(g!=" "){e++}s+=g}s+="</strong>";r=r.substr(f);d=d.substr(f)}if(d!=""){s+=d}return s}})();(function(){jigu.extend(daum.suggest.module,{RequestKeyword:function(){}})})();(function(a){jigu.extend(a.module,{ScriptCall:function(){var b=document.getElementsByTagName("head")[0];var c={load:function(f,g){var d=jigu.$(g);if(d){b.removeChild(d)}var e=document.createElement("script");e.type="text/javascript";e.id=g;e.src=f;b.appendChild(e)}};return c}()})})(daum.suggest);(function(c){var a=true;var e=c.define.ActivationCookieName,d=c.define.ActivationType.ON,b=c.define.ActivationType.OFF;jigu.extend(c.module,{ActivationFlag:function(){a=(jigu.getCookie(e)==b)?false:true;var f={set:function(g){a=(g==b)?false:true;jigu.setCookie(e,g,365000)},get:function(){return a}};return f}()})})(daum.suggest);(function(b){var a=b.view.YellowView=function(){this.container=null};jigu.Function.inherit(a,$ssf.EventDispatcher,{initialize:function(d){this.container=jigu.$(d);
if(!this.container){return false}this.render();var c=this;jigu.addEvent(this.container,"mousedown",function(f){var e=jigu.getElement(f);if(jigu.hasClassName(e,b.define.YellowClip.OFF)){b.Service.block(false,c)}else{if(jigu.hasClassName(e,b.define.YellowClip.ON)){c.dispatchEvent("onYellowUp")}else{c.dispatchEvent("onYellowDown")}}jigu.stopEvent(f)})},setUp:function(){if(!this.container){return false}this.container.className=b.define.YellowClip.ON;this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \uc811\uae30"},setDown:function(){if(!this.container){return false}this.container.className="";this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \ud3bc\uce58\uae30"},setOff:function(){if(!this.container){return false}this.container.className=b.define.YellowClip.OFF;this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \ucf1c\uae30"},render:function(){if(!this.container){return false}if(b.module.ActivationFlag.get()==false){jigu.addClassName(this.container,b.define.YellowClip.OFF)
}}})})(daum.suggest);(function(c){var b=false;var a=c.view.BoxView=function(d){this.container=d.container;this.type=d.type;this.listModel=d.listModel;this.keywordListData=null;this.initialize();this._isVisible=false};jigu.Function.inherit(a,$ssf.EventDispatcher,{initialize:function(){var d=this},renderBase:function(d){if(jigu.hasClassName(this.container,"thumbType")){jigu.removeClassName(this.container,"thumbType")}if(d=="guide"){b=true}else{b=false}this.container.style.display="block";this._isVisible=true},renderType:function(){if(this.type=="thumb"){if(!jigu.hasClassName(this.container,"thumbType")){jigu.addClassName(this.container,"thumbType")}}},getDataList:function(){return(!!this.keywordDataList==false)?this.listModel.get():this.keywordDataList},visible:function(f){var g=this.getDataList();var e=g.keyword;if(!!e==false){if(f=="toUse"){this.renderBase("guide");this.dispatchEvent("onShowGuide",{type:"UseSuggest"})}else{if(f=="Used"){this.renderBase("guide");this.dispatchEvent("onShowGuide",{type:"UsingSuggest"})
}else{}}}else{if(jigu.Array.size(g.all)<=0){this.dispatchEvent("onShowGuide",{type:"NoResult"})}else{this.renderBase("list");var d=true;if(g.head.length==0||g.tail.length==0){d=false}this.dispatchEvent("onShowList",{data:g,more:d})}}},hidden:function(){this.container.style.display="none";this._isVisible=false;this.dispatchEvent("onHiddenBox")},isVisible:function(){return this._isVisible}})})(daum.suggest);(function(b){var a=b.view.ImageView=function(c){this.container=c.container;this.listModel=c.listModel;this.imageContainer=null;this.listArr=null;this.initialize()};jigu.Function.inherit(a,$ssf.EventDispatcher,{initialize:function(){},getListData:function(){return(!!this.listArr==false)?this.listModel.get():this.listArr},setImageHtml:function(d){var c=this;if(!!this.container==false){return false}if(!!this.imageContainer==false){this.imageContainer=document.createElement("DIV");this.imageContainer.className="imageBox";this.container.appendChild(this.imageContainer);jigu.addEvent(this.imageContainer,"mousedown",function(e){c.dispatchEvent("onMousedownImage")
})}this.imageContainer.innerHTML=d},render:function(d){var c=this.getThumbnailUrl(d);if(!!c==false){this.setImageHtml(b.template.IsNonImage.evaluate());return false}else{this.setImageHtml(b.template.Image.evaluate({url:c}))}},getThumbnailUrl:function(c){return this.getListData().all[c].image}})})(daum.suggest);(function(b){var a=b.view.FooterView=function(c){this.index=null;this.container=c.container;this.offUsable=c.yellowClip;this.footerContainer=null;this.initialize()};jigu.Function.inherit(a,$ssf.EventDispatcher,{initialize:function(){var c=this;jigu.addEvent(this.container,"mousedown",function(e){var d=jigu.getElement(e);if(jigu.hasClassName(d,"tailMore")){c.dispatchEvent("onTailMore")}else{if(jigu.hasClassName(d,"headMore")){c.dispatchEvent("onHeadMore")}else{if(jigu.hasClassName(d,"isSuggest")){c.dispatchEvent("onIsSuggest",{event:e})}else{if(jigu.hasClassName(d,"offSuggest")){b.Service.block(true)}else{if(jigu.hasClassName(d,"closeSuggest")){c.dispatchEvent("onCloseSuggest")}}}}}jigu.stopEvent(e)
})},addMouseEvent:function(){var d=jigu.getElementsByClassName(this.footerContainer,"offSuggest")[0];var c=jigu.getElementsByClassName(this.footerContainer,"offGuide")[0];if(d){jigu.addEvent(d,"mouseover",function(e){jigu.show(c)});jigu.addEvent(d,"mouseout",function(e){jigu.hide(c)})}},setFooterHtml:function(c){if(!!this.container==false){return false}if(!!this.footerContainer==false){this.footerContainer=document.createElement("DIV");this.footerContainer.className="footer bg_sub";this.container.appendChild(this.footerContainer)}this.footerContainer.innerHTML=c;this.addMouseEvent()},moreEvaluate:function(c){if(c=="head"){return b.template.HeadMore.evaluate()}else{return b.template.TailMore.evaluate()}},render:function(c){this.setFooterHtml(b.template.Footer.evaluate({moreWord:(c=="nomore")?"":this.moreEvaluate(c),offUsable:(!!this.offUsable)?"":"none"}))}})})(daum.suggest);(function(b){var a=b.view.GuideView=function(c){this.container=c.container;this.customUsingGuide=c.customUsingGuide;
this.guideContainer=null;this.initialize()};jigu.Function.inherit(a,$ssf.EventDispatcher,{initialize:function(){this.render()},setGuideHtml:function(c){if(!!this.container==false){return false}var d=jigu.getElementsByClassName(this.container,"list");if(d.length>0){jigu.replaceClassName(d[0],"list","guide");this.guideContainer=d[0]}if(!!this.guideContainer==false){this.guideContainer=document.createElement("DIV");jigu.addClassName(this.guideContainer,"guide");this.container.appendChild(this.guideContainer)}this.guideContainer.innerHTML=c},render:function(c){switch(c){case"USING":if(this.customUsingGuide&&typeof this.customUsingGuide=="function"){this.setGuideHtml(b.template.UsingExternalGuide.evaluate());this.customUsingGuide(Sizzle(".guide",this.container)[0])}else{this.setGuideHtml(b.template.UsingSuggest.evaluate())}break;case"USE":this.setGuideHtml(b.template.UseSuggest.evaluate());break}}})})(daum.suggest);(function(a){var i=0,g=0;var e=200;var b=true;var j=true;var c=a.define.Keyboard;
var k=false;var f=false;var h=false;var d=a.view.KeywordInputView=function(l){this._defaultKeyword="";this._keywordBox=l;this._previousKeyword=l.value;this._currentKeyword=null;this._intervalId=null;this.setSmartWatchingTarget();this._bindEvents()};jigu.Function.inherit(d,$ssf.EventDispatcher,{_bindEvents:function(){var l=this;jigu.addEvent(this._keywordBox,"focus",function(m){if(b){l.start()}l.dispatchEvent("onFocusKeywordBox",{event:m,keyword:l._currentKeyword})});jigu.addEvent(this._keywordBox,"mousedown",function(m){l.dispatchEvent("onClickKeywordBox",{event:m,keyword:l._keywordBox.value});jigu.stopPropagation(m)});jigu.addEvent(this._keywordBox,"keydown",function(n){var m=n.keyCode;if(m==c.SHIFT){k=true}else{if(m==c.ALT){f=true}else{if(m==c.CTRL){h=true}else{if(m==c.ENTER){l.dispatchEvent("onEnterKeywordBox",{event:n})}else{if(m==c.ESC){l.dispatchEvent("onAltTabKeywordBox",{event:n})}else{if(f&&m==c.TAB){l.dispatchEvent("onEscKeywordBox",{event:n})}else{if(m==c.UP||(k&&m==c.TAB)){l.dispatchEvent("onUpKeywordBox",{event:n,keyCode:m,isShift:k})
}else{if(m==c.DOWN||(!k&&m==c.TAB)){if(b){l.clear()}l.dispatchEvent("onDownKeywordBox",{event:n,keyCode:m,isShift:k})}else{if(b&&a.module.ActivationFlag.get()==true&&l._intervalId==null){l.start()}}}}}}}}}});jigu.addEvent(this._keywordBox,"keyup",function(n){var m=n.keyCode;if(m==c.SHIFT){k=false}else{if(m==c.ALT){f=false}else{if(m==c.CTRL){h=false}else{if(m==c.BACKSPACE){l.dispatchEvent("onBackspaceKeywordBox",{event:n})}}}}if(!!l.getValue()==false){l.dispatchEvent("onEmptyKeyword")}});jigu.addEvent(this._keywordBox,"blur",function(m){if(b){l.clear()}l.dispatchEvent("onBlurKeywordBox",{event:m})})},start:function(){this._previousKeyword=this._currentKeyword=this._keywordBox.value;if(this._intervalId){clearInterval(this._intervalId)}this._intervalId=jigu.Function.interval(this.watching,e,this)},watching:function(){this._currentKeyword=this._keywordBox.value;if(this._previousKeyword!=this._currentKeyword){this._previousKeyword=this._currentKeyword;this.dispatch(this._currentKeyword)}},dispatch:function(l){this.dispatchEvent("onChangeKeyword",{keyword:l})
},setSmartWatchingTarget:function(){if(navigator.userAgent.indexOf("SHW")!=-1){return(j=false)}},clear:function(){if(!!this._intervalId&&b&&j){clearInterval(this._intervalId);this._intervalId=null}},setAlwaysWatching:function(){b=false;this.start()},setSmartWatching:function(){b=true;this.clear()},getWatchType:function(){return b},setDefaultKeyword:function(l){this._defaultKeyword=l},getDefaultKeyword:function(){return this._defaultKeyword},initDefaultKeyword:function(){if(!!this._keywordBox.value==true){this._keywordBox.value=this._previousKeyword=this._currentKeyword=this._defaultKeyword}},setFocus:function(){this._keywordBox.focus()},getValue:function(){return this._keywordBox.value},setValue:function(l){this._keywordBox.value=l},clearValue:function(){this._keywordBox.value=""},setSelect:function(){this._keywordBox.select()},getBoxId:function(){return this._keywordBox.id},blur:function(){this._keywordBox.blur()}})})(daum.suggest);(function(b){var a=b.view.ListView=function(c){this.index=null;
this.keyword=null;this.positionType=b.define.ListPositionType.DEFAULT;this.itemArr=null;this.container=c.container;this.limit=c.limit;this.maxSize=this.limit[0]+this.limit[1];this.listContainer=null;this.listModel=null;this.eventFlag=false;this.minIndex=0;this.maxIndex=0;this.initialize()};jigu.Function.inherit(a,$ssf.EventDispatcher,{initialize:function(){},move:function(d){if(this.maxIndex==0){return false}var c=this.index;switch(d){case"UP":c--;if(c<this.minIndex){this.dispatchEvent("onHideHighlight");return false}break;case"DOWN":c++;if(c>=this.maxIndex){return false}break}this.select(c)},moveUp:function(){this.move("UP")},moveDown:function(){this.move("DOWN")},select:function(d,e){var c=e||"";if(d==null){return false}this.blur();this.index=d;this.setClassNameOnSelectedItem();this.dispatchEvent("onSelectItem",{index:this.index,action:c})},blur:function(){if(this.index!=null&&this.index>=0){jigu.removeClassName(this.getItemEl()[this.index],"on")}},getIndex:function(){return this.index
},getSelectedItem:function(){var c=this.listModel.all[this.index];if(c){return c}else{return null}},getItemEl:function(){return(!!this.itemArr==false)?(this.itemArr=this.listContainer.getElementsByTagName("LI")):this.itemArr},setClassNameOnSelectedItem:function(){var c=this.getItemEl()[this.index];if(c){jigu.addClassName(c,"on")}},getItemIndex:function(g){var f=g;for(var e=0;e<5;++e){if(jigu.String.startsWith(f.className,"idx_")){var d=f.className.match(/idx_([0-9]+).*/);var c=d[1];return c}f=jigu.getParent(f)}},bindEvent:function(){if(!!this.eventFlag==false){var c=this;jigu.addEvent(this.listContainer,"mouseover",function(f){var e=jigu.getElement(f);var d=c.getItemIndex(e);c.select(d,"over")});jigu.addEvent(this.listContainer,"click",function(f){var e=jigu.getElement(f);var d=c.getItemIndex(e);c.dispatchEvent("onSelectedItemClick",{event:f,string:c.listModel.all[d].string})});jigu.addEvent(this.listContainer,"mousedown",function(d){jigu.stopEvent(d)});this.eventFlag=true}},setListHtml:function(d){if(!!this.container==false){return false
}var c=jigu.getElementsByClassName(this.container,"guide");if(c.length>0){c[0].className="list";this.listContainer=c[0]}if(!!this.listContainer==false){this.listContainer=document.createElement("DIV");jigu.addClassName(this.listContainer,"list");this.container.appendChild(this.listContainer)}this.listContainer.innerHTML=d;this.bindEvent()},itemEvaluate:function(k,g,e,l){var m=l||0;var j=null;var d=[];var c=k.length;var h=(c>=e)?e:c;for(var f=0;f<h;f++){j=(f%2==0)?" first":"";d.push(b.template.Item.evaluate({first:j,item:b.module.KeywordHighlight(k[f].string,this.keyword,g),idx:m+f}))}return d.join("")},render:function(f){this.listModel=f;this.keyword=f.keyword;this.resetIndex();var i=b.define.ListPositionType;if(this.positionType==i.DEFAULT){var k=f.head,d=f.tail;var e=f.head.length,c=f.tail.length;if(e==0&&c>e){k=f.tail,d=f.head}}else{var k=f.tail,d=f.head}var j=Math.min(k.length,this.limit[0]);var g=Math.min(d.length,this.maxSize-j);this.maxIndex=j+g;var h=(this.limit[1]>0)?this.positionType:b.define.KeywordCompareType.FULL;
this.setListHtml(b.template.Base.evaluate({list_high:this.itemEvaluate(k,h,j),list_low:(g>0)?this.itemEvaluate(d,(h==i.DEFAULT)?i.TRANS:i.DEFAULT,g,j):"",line:(j>0&&g>0)?"block":"none"}));this.dispatchEvent("onShowListView")},changePositionType:function(d){var c=b.define.ListPositionType;this.positionType=(this.positionType==c.DEFAULT)?c.TRANS:c.DEFAULT;this.render(d)},resetIndex:function(){this.index=-1},resetPositionType:function(){this.positionType=b.define.ListPositionType.DEFAULT}})})(daum.suggest);(function(){var f=false;function d(){if(f){return}f=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);b()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);b()}});if(document.documentElement.doScroll&&window==window.top){(function(){if(c){return
}try{document.documentElement.doScroll("left")}catch(g){setTimeout(arguments.callee,0);return}b()})()}}}jigu.addEvent(window,"load",b)}var c=false;var e=[];function b(){if(!c){c=true;if(e){jigu.Array.each(e,function(g){g.call(document,null)});e=null}}}function a(g){d();if(c){g.call(document,null)}else{e.push(g)}return this}daum.suggest.DOMReady=a})();(function($ds){var _defaultBox=null;var SuggestInstance=$ds.Instance=function(inputElementId,parentWrapperId,suggestDomain,suggestRequestUrl,proxyUrlOrCallbackName,isCallback){this.inputBox=jigu.$(inputElementId);if(!!this.inputBox===false){alert($ds.message.ERROR_NO_INPUTBOX);return false}this.wrapper=jigu.$(parentWrapperId);if(!!this.wrapper===false){alert($ds.message.ERROR_NO_PARENT_CONTAINER);return false}this.suggestDomain=suggestDomain;this.requestUrl=suggestRequestUrl;if(isCallback===true){this.callbackName=proxyUrlOrCallbackName}else{this.proxyUrl=proxyUrlOrCallbackName}this.initialize()};SuggestInstance.prototype={initialize:function(){this.isActivate=null;
this.currentKeyword="";this.option={type:"base",thumbActionFunc:null,limit:[10,3],focus:$ds.define.FocusPointType.DEFAULT,encode:$ds.define.EncodeType.UTF_IN_OUT,customUsingGuide:null,beforeExcuteNativeTab:null,areacode:null};this.containerBox=null;this.yellowView=new $ds.view.YellowView();this.keywordInputView=new $ds.view.KeywordInputView(this.inputBox);this.dataModel=new $ds.model.DataModel({suggestDomain:this.suggestDomain,requestUrl:this.requestUrl,proxyUrl:this.proxyUrl,callbackName:this.callbackName,encode:this.option.encode,keyword:this.inputBox.value});this._bindEvents()},_containerRender:function(){this.containerBox=createContainer(this.wrapper,"suggestBox box_sub");this.baseBox=createContainer(this.containerBox,"baseBox bg")},_createModelView:function(){this.listModel=new $ds.model.ListModel({limit:this.option.limit,subwayAreacode:this.option.subwayAreacode});this.boxView=new $ds.view.BoxView({container:this.containerBox,type:this.option.type,listModel:this.listModel});this.listView=new $ds.view.ListView({container:this.baseBox,limit:this.option.limit});
this.footerView=new $ds.view.FooterView({container:this.baseBox,yellowClip:this.yellowView.container});this.guideView=new $ds.view.GuideView({container:this.baseBox,customUsingGuide:this.option.customUsingGuide});if(this.option.type=="thumb"){this.imageView=new $ds.view.ImageView({container:this.containerBox,listModel:this.listModel})}},_bindEvents:function(){var self=this;this.keywordInputView.addListener({onFocusKeywordBox:function(ev){var defaultValue=self.keywordInputView.getDefaultKeyword(),currentValue=self.keywordInputView.getValue();if(currentValue==""){self.dataModel.dispatchEvent("onEmptyKeyword")}if(!!currentValue&&self.boxView&&self.boxView.isVisible()==false){return false}$ds.Service.hiddenAll();if(!!currentValue&&currentValue!=defaultValue){setTimeout(function(){self.request(ev.keyword,"hidden")},50)}else{if($ds.Service.isEqual(self)==false){$ds.Service.setCurrentInstance(self)}else{self.visible()}}},onChangeKeyword:function(ev){var keyword=ev.keyword;if(self.option.subwayAreacode){keyword=self.option.subwayAreacode+ev.keyword;
self.request(keyword);self.listView.positionType=$ds.define.ListPositionType.DEFAULT;self.keywordInputView.setDefaultKeyword(keyword.replace(self.option.subwayAreacode,""))}else{self.request(keyword);self.listView.positionType=$ds.define.ListPositionType.DEFAULT;self.keywordInputView.setDefaultKeyword(keyword)}}});this.yellowView.addListener({onActivateSuggest:function(ev){$ds.module.ActivationFlag.set("on");if(ev.view==this){if(!!self.getKeyword()){self.keywordInputView.start();self.request(self.getKeyword())}else{self.visible("toUse")}}else{this.setDown()}},onYellowOff:function(ev){$ds.module.ActivationFlag.set("on");if(!!self.getKeyword()){self.keywordInputView.start();self.request(self.getKeyword())}else{self.visible("toUse")}},onYellowUp:function(ev){if(!!self.getKeyword()==false){self.keywordInputView.blur()}self.hidden()},onYellowDown:function(ev){if(!!self.getKeyword()==false){self.keywordInputView.blur()}self.visible("Used")}});this._bindEvents=function(){var self=this;this.keywordInputView.addListener({onClickKeywordBox:function(ev){if($ds.Service.getCurrentInstance()==self){if($ds.module.ActivationFlag.get()==true){self.toggle()
}}else{$ds.Service.hiddenAll();$ds.Service.setCurrentInstance(self)}},onBlurKeywordBox:function(ev){},onUpKeywordBox:function(ev){if(self.boxView.isVisible()==false&&ev.keyCode==$ds.define.Keyboard.TAB){}else{self.listView.moveUp();jigu.preventDefault(ev.event)}},onEmptyKeyword:function(){self.dataModel.dispatchEvent("onEmptyKeyword")},onDownKeywordBox:function(ev){if(self.boxView.isVisible()==false&&ev.keyCode==$ds.define.Keyboard.TAB){if(!!self.option.beforeExcuteNativeTab){self.option.beforeExcuteNativeTab(ev.event)}}else{if(self.boxView.isVisible()==true){if((self.listView.getItemEl().length-1)>self.listView.getIndex()){self.listView.moveDown();jigu.preventDefault(ev.event)}else{self.boxView.hidden()}}else{self.boxView.visible();jigu.preventDefault(ev.event)}}},onEscKeywordBox:function(ev){self.hidden()},onEnterKeywordBox:function(ev){if(!!self.option.beforeSubmit){jigu.stopEvent(ev.event)}forceFormSubmit(self);self.hidden()},onBlankKeywordValue:function(ev){self.hidden()}});this.boxView.addListener({onShowList:function(ev){self.listView.render(ev.data);
if(self.option.limit[0]==0||self.option.limit[1]==0||!ev.more){self.footerView.render("nomore")}else{self.footerView.render()}self.yellowView.setUp()},onShowGuide:function(ev){switch(ev.type){case"UsingSuggest":self.guideView.render("USING");break;case"UseSuggest":self.guideView.render("USE");break;case"NoResult":self.listModel.set(null);self.hidden();return false;break}self.footerView.render("nomore");self.yellowView.setUp()},onHiddenBox:function(ev){if($ds.module.ActivationFlag.get()==true){self.yellowView.setDown()}self.listModel.getChangeSort();self.listView.resetIndex();self.listView.resetPositionType()},onDifferntKeyword:function(ev){self.request(ev.keyword)}});this.listView.addListener({onShowListView:function(ev){},onHideHighlight:function(ev){self.keywordInputView.initDefaultKeyword();self.hidden()},onSelectItem:function(ev){self.boxView.renderType();if(self.option.type=="thumb"&&self.imageView){self.imageView.render(ev.index)}if(ev.action=="over"){if(!jigu.Browser.ff){self.keywordInputView.clear()
}}else{var selectedItem=self.listModel.getSelectedItem(ev.index);if(selectedItem){self.keywordInputView.setValue(selectedItem.string)}}},onSelectedItemClick:function(ev){if(jigu.Browser.mac&&jigu.Browser.ff){self.keywordInputView.blur()}self.keywordInputView.setValue(ev.string);forceFormSubmit(self);self.hidden()}});this.footerView.addListener({onTailMore:function(ev){self.keywordInputView.initDefaultKeyword();var list=self.listModel.getChangeSort("tail");self.listView.changePositionType(list);self.footerView.render("head")},onHeadMore:function(ev){self.keywordInputView.initDefaultKeyword();var list=self.listModel.getChangeSort("head");self.listView.changePositionType(list);self.footerView.render("tail")},onIsSuggest:function(ev){window.open($ds.template.IntroduceSuggestURL,"_blank");jigu.preventDefault(ev.event)},onOffSuggest:function(ev){$ds.module.ActivationFlag.set("off");self.yellowView.setOff();self.hidden()},onCloseSuggest:function(ev){self.hidden()}});this.dataModel.addListener({onLoadComplete:function(ev){var setData=$ds.model.Raw.set(ev.data,ev.route);
self.listModel.set(setData);setData=null;if(ev.visible!="hidden"){self.visible()}},onReloadCache:function(ev){self.listModel.set(ev.data);self.visible()},onSendData:function(ev){},onEmptyKeyword:function(ev){self.listModel.set(null);self.hidden()},onOverKeyword:function(ev){self.listModel.set(null);self.hidden()}});if(this.option.type=="thumb"){this.imageView.addListener({onMousedownImage:function(ev){var selectedItem=self.listView.getSelectedItem();if(self.option.thumbActionFunc){self.option.thumbActionFunc(selectedItem.item)}else{self.listView.dispatchEvent("onSelectedItemClick",{event:ev,string:selectedItem.string})}}})}}},_instanceReady:function(){if(!!this.containerBox==false){this._containerRender();this._createModelView();this._bindEvents()}},getKeyword:function(){return this.keywordInputView.getValue()},getSelectedItem:function(){return(this.listView!=null)?this.listView.getSelectedItem():null},setDefaultBox:function(){_defaultBox=this},setOption:function(key,value){this.option[key]=value;
return this},setUseThumbnail:function(customThumbActionFunc){this.option.type="thumb";this.option.thumbActionFunc=customThumbActionFunc;return this},setInputFocus:function(type){switch(type){case"load":this.option.focus=$ds.define.FocusPointType.LOAD;break;case"write":this.option.focus=$ds.define.FocusPointType.WRITE;break;default:this.option.focus=$ds.define.FocusPointType.DEFAULT;break}return this},setRequestUrl:function(url){if(!!this.dataModel){this.dataModel.setRequestUrl(url)}else{this.requestUrl=url}return this},setBeforeSubmitFunc:function(userFuncName){this.option.beforeSubmit=userFuncName;return this},getBeforeSubmitFunc:function(){return this.option.beforeSubmit},setBeforeNativeTabFunc:function(func){this.option.beforeExcuteNativeTab=func;return this},setForm:function(form){this.option.form=form;return this},setKeywordMaxByte:function(maxByte){$ds.define.KeywordMaxByte=maxByte;return this},setLimit:function(arrayValue){this.option.limit=arrayValue;return this},setSubwayAreacode:function(areacode){this.option.subwayAreacode=areacode;
return this},setYellowClip:function(id){this.yellowView.initialize(id);return this},setEncodeKeyword:function(encode){if(this.dataModel){this.dataModel.setEncode(encode)}else{this.setOption("encode",encode)}return this},setCustomUsingGuideFunc:function(func){this.option.customUsingGuide=func;return this},request:function(keyword,visible){this._instanceReady();this.dataModel.get(keyword,visible)},reRequest:function(){this.request(this.getKeyword())},hidden:function(){if(!!this.containerBox){this.keywordInputView.clear();this.boxView.hidden()}},visible:function(yellowClipState){if($ds.module.ActivationFlag.get()==true){this._instanceReady();this.boxView.visible(yellowClipState)}},toggle:function(){if(this.boxView.isVisible()){this.hidden()}else{this.visible()}},block:function(isBlock,callerView){this._instanceReady();if(isBlock==true){this.footerView.dispatchEvent("onOffSuggest")}else{this.yellowView.dispatchEvent("onActivateSuggest",{view:callerView})}}};var createContainer=function(parentContainer,className){var container=document.createElement("div");
container.className=className;parentContainer.appendChild(container);return container};var forceFormSubmit=function(instance){var form=instance.option.form,func=instance.option.beforeSubmit;if(typeof func=="function"){func(form)}else{var f=eval(func);if(f){f(form)}}}})(daum.suggest);(function(b){var a=b.Service=function(){var f=[],g=null;var h=null,i=null;var k=(jigu.getCookie("suggest")=="off")?false:true;var e=null;var j=false;var d={init:function(){if(j==true){return this}jigu.addEvent(document,"keydown",jigu.Function.bind(c.keydown,this));jigu.addEvent(document,"mousedown",jigu.Function.bind(c.mousedown,this));c.initFocus();j=true;return this},add:function(m,o,r,q,n,p){if(!!q===false){alert(b.message.ERROR_NO_REQUEST_URL);return false}var l=new b.Instance(m,o,r,q,n,p);f.push(l);return l},remove:function(){},hiddenAll:function(){for(var l=f.length-1;l>=0;--l){f[l].hidden()}},hiddenOther:function(l){for(var m=f.length-1;m>=0;--m){if(l!=f[m]){f[m].hidden()}}},block:function(l,m){for(var n=f.length-1;
n>=0;--n){var o=f[n];o.block(l,m)}},setCurrentInstance:function(l){g=l},getCurrentInstance:function(){return g},isEqual:function(m){var l;if(g!=null&&g!=m){l=false}else{l=true}return l},getInstanceList:function(){return f},getActivationFlag:function(){return b.module.ActivationFlag.get()}};var c={initFocus:function(){b.DOMReady(function(){for(var l=f.length-1;l>=0;--l){if(f[l].option.focus==b.define.FocusPointType.LOAD){d.setCurrentInstance(f[l]);d.getCurrentInstance().keywordInputView.setSelect();d.getCurrentInstance().keywordInputView.setFocus();break}}})},keydown:function(q){var p=jigu.getElement(q);var r=p.nodeName;var o=q.keyCode;var m=b.define.Keyboard;var l=["BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","SPACEBAR","HOME","END","PAGEDOWN","PAGEUP","CAPSLOOK","LEFT","RIGHT","UP","DOWN","MAC_COMMAND"];for(var n=l.length-1;n>=0;--n){if(m[l[n]]==o){return true}}if(q.ctrlKey||q.metaKey){return true}if(p&&(r=="INPUT"||r=="SELECT"||r=="TEXTAREA")){return true}if(e==null){for(var n=f.length-1;
n>=0;--n){if(f[n].option.focus==b.define.FocusPointType.LOAD||f[n].option.focus==b.define.FocusPointType.WRITE){e=f[n];break}}}if(e){e.keywordInputView.clearValue();e.keywordInputView.setFocus()}},mousedown:function(l){d.hiddenAll()},findInputBox:function(m){for(var l=f.length-1;l>=0;--l){if(f[l].inputBox==m){return true}}return false}};return d}()})(daum.suggest);